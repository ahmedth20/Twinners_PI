"use strict";(self.webpackChunkmedux=self.webpackChunkmedux||[]).push([[8818],{28818:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var n=t(72791),a=t(39314),i=t(7349),c=t(35498),r=t(75700),l=t(45943),d=t(27612),o=t(80184);const u=function(){const[e,s]=(0,n.useState)(""),[t,u]=(0,n.useState)(!1),[h,m]=(0,n.useState)(""),[x,p]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),g=window.matchMedia("(max-width: 1038.98px)").matches,f=(0,d.ZP)("http://localhost:5000");(0,n.useEffect)((()=>{f.on("receive_message",(e=>{j(e.message)}))}),[]),(0,n.useEffect)((()=>(f.on("ambulance-response",(e=>{console.log("Message from ambulance service:",e),m(e)})),()=>{f.off("ambulance-response"),f.disconnect()})),[]);const b=()=>{u(!1),s("")};return window.addEventListener("resize",(()=>{g&&b()})),(0,o.jsx)(r.Z.Container,{transition:!0,activeKey:e,onSelect:s,children:(0,o.jsxs)(a.Z,{title:"Messages",children:[(0,o.jsxs)("div",{className:"App",children:[(0,o.jsx)("h2",{children:"Frontend App 2"}),(0,o.jsx)("input",{type:"text",placeholder:"Message",onChange:e=>p(e.target.value)}),(0,o.jsx)("button",{onClick:()=>{f.emit("send_message",{message:x})},children:"Send"}),(0,o.jsxs)("p",{children:["Received: ",v]})]}),(0,o.jsx)("div",{children:(0,o.jsx)(i.Z,{variant:"patient",user:e,onUserSelect:s,setModal:u})},"contacts-list"),(0,o.jsx)("div",{children:g?(0,o.jsx)(c.Z,{isVisible:t,visibilityHandler:b,children:(0,o.jsx)(l.Z,{variant:"patient",user:e})}):(0,o.jsx)(l.Z,{variant:"patient",user:e})},"messenger"),h&&(0,o.jsx)("div",{className:"ambulance-message",children:h})]})})}}}]);
//# sourceMappingURL=8818.ff4f55d7.chunk.js.map