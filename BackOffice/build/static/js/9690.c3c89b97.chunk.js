"use strict";(self.webpackChunkmedux=self.webpackChunkmedux||[]).push([[9690],{69690:(t,e,n)=>{n.d(e,{Z:()=>v});var i=n(72791),r=n(58465),a=n(85183);const o=function(){return a.Z.Date.now()};var s=n(90344),c=Math.max,u=Math.min;const l=function(t,e,n){var i,a,l,f,h,d,v=0,p=!1,g=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,r=a;return i=a=void 0,v=e,f=t.apply(r,n)}function x(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-v>=l}function I(){var t=o();if(x(t))return k(t);h=setTimeout(I,function(t){var n=e-(t-d);return g?u(n,l-(t-v)):n}(t))}function k(t){return h=void 0,b&&i?y(t):(i=a=void 0,f)}function m(){var t=o(),n=x(t);if(i=arguments,a=this,d=t,n){if(void 0===h)return function(t){return v=t,h=setTimeout(I,e),p?y(t):f}(d);if(g)return clearTimeout(h),h=setTimeout(I,e),y(d)}return void 0===h&&(h=setTimeout(I,e)),f}return e=(0,s.Z)(e)||0,(0,r.Z)(n)&&(p=!!n.leading,l=(g="maxWait"in n)?c((0,s.Z)(n.maxWait)||0,e):l,b="trailing"in n?!!n.trailing:b),m.cancel=function(){void 0!==h&&clearTimeout(h),v=0,i=d=a=h=void 0},m.flush=function(){return void 0===h?f:k(o())},m};var f=function(){function t(t){this.options=void 0,this.beats=[],this.beatIndex=0,this.spikeIndex=-1,this.isSpike=!1,this.minBeatCount=100,this.idleBeat=[.05,-.025],this.spikeBeats=[[.1,.1],[.1,0],[.3,.7],[.1,-.05],[.3,-.8],[.1,-.05],[.1,-.05],[.1,.15]],this.options=t,this.beats=this.initBeatRange()}var e=t.prototype;return e.renderSpike=function(){this.isSpike=!0},e.updateData=function(){this.setBeatIndex(),this.spikeIndex>=0||this.isSpike?(this.fillSpikeData(),this.isSpike=!1):this.fillIdleData()},e.getData=function(){return this.beats},e.getBeatIndex=function(){return this.beatIndex},t.getBeatValue=function(t,e){return Math.random()*t+e},t.getNextBeatIndex=function(t,e){return t<e-1?t+1:0},e.getIdleBeatValue=function(){return t.getBeatValue.apply(t,this.idleBeat)},e.createBeatRange=function(t,e){var n=Math.max(this.minBeatCount,Math.floor(t/e));return new Array(n).fill(0).map(this.getIdleBeatValue.bind(this))},e.setBeatValue=function(t){this.beats[this.beatIndex]=t},e.setBeatIndex=function(){this.beatIndex=t.getNextBeatIndex(this.beatIndex,this.beats.length)},e.setSpikeIndex=function(){this.spikeIndex=this.spikeIndex<this.spikeBeats.length?this.spikeIndex+1:-1},e.initBeatRange=function(){var t=this.options;return this.createBeatRange(t.width,t.density)},e.fillIdleData=function(){this.setBeatValue(this.getIdleBeatValue())},e.fillSpikeData=function(){this.setBeatValue(this.getSpikeValue(this.spikeIndex)),this.setSpikeIndex()},e.getSpikeValue=function(e){var n=this.spikeBeats[e];return n?t.getBeatValue(n[0],n[1]):0},t}(),h=function(){function t(t,e,n,i){this.ctx=void 0,this.cardiogram=void 0,this.intervalManager=void 0,this.options=void 0,this.ctx=t,this.cardiogram=e,this.intervalManager=n,this.options=i,this.initialize()}var e=t.prototype;return e.destroy=function(){this.intervalManager.clearAll()},e.renderSpike=function(){this.cardiogram.renderSpike()},e.initialize=function(){var t=this,e=this.options,n=e.beatFrequency;this.intervalManager.setInterval((function(){t.cardiogram.updateData(),t.render()}),e.paintInterval),n&&this.intervalManager.setInterval((function(){t.renderSpike()}),n)},e.eachBeat=function(t,e){var n=this.cardiogram.getData(),i=this.cardiogram.getBeatIndex(),r=n.length,a=this.options,o=a.height*(a.scale/100),s=0,c=0,u=(i+1)%r,l=a.width/r;return n.forEach((function(i,a){c=t-n[u]*o,u=(u+1)%r,e({x:s=a*l,y:c})})),{x:s,y:c}},e.render=function(){var t=this.ctx,e=this.options,n=e.width,i=e.height;this.setDrawingOptions(),t.clearRect(0,0,n,i);var r=i/2;t.beginPath(),t.moveTo(0,r);var a=this.eachBeat(r,(function(e){t.lineTo(e.x,e.y)})),o=a.x,s=a.y;t.stroke(),t.closePath(),t.beginPath(),this.drawCursor(o-1,s-1),t.fill(),t.closePath()},e.drawCursor=function(t,e){var n=this.ctx;n.save(),n.beginPath(),n.translate(t,e),n.arc(0,0,this.options.cursorSize,0,2*Math.PI,!0),n.restore(),n.closePath()},e.setDrawingOptions=function(){var t=this.ctx,e=this.options,n=e.color,i=e.thickness;t.strokeStyle=n,t.fillStyle=n,t.lineWidth=i},t}(),d=function(){function t(){this.intervalIds=[]}var e=t.prototype;return e.setInterval=function(t,e){var n=window.setInterval(t,e);return this.intervalIds.push(n),n},e.clearAll=function(){this.intervalIds.forEach((function(t){window.clearInterval(t)}))},t}(),v=(0,i.forwardRef)((function(t,e){var r=t.width,a=t.height,o=void 0===a?100:a,s=t.paintInterval,c=t.color,u=t.thickness,v=t.scale,p=t.cursorSize,g=t.density,b=function(t){var e=t.height,r=t.color,a=t.thickness,o=t.scale,s=t.cursorSize,c=t.density,u=t.paintInterval,v=t.beatFrequency,p=t.ref,g=(0,i.useState)(t.defaultWidth),b=g[0],y=g[1],x=(0,i.useRef)(),I=(0,i.useRef)(null),k=(0,i.useRef)(null),m=(0,i.useCallback)((function(){var t;null==(t=x.current)||t.renderSpike()}),[]);return(0,i.useImperativeHandle)(p,(function(){return{bang:m}})),function(t,e){void 0===e&&(e=100);var r=(0,i.useCallback)(l((function(){t()}),e),[t,e]);(0,i.useEffect)((function(){r()}),[r]),function(t,e,r,a){void 0===r&&(r=n.g),void 0===a&&(a={});var o=(0,i.useRef)(),s=a.capture,c=a.passive,u=a.once;(0,i.useEffect)((function(){o.current=e}),[e]),(0,i.useEffect)((function(){if(r&&r.addEventListener){var e=function(t){return o.current(t)},n={capture:s,passive:c,once:u};return r.addEventListener(t,e,n),function(){r.removeEventListener(t,e,n)}}}),[t,r,s,c,u])}("resize",r)}((0,i.useCallback)((function(){if(k.current){var t=k.current.getBoundingClientRect();y(t.width)}}),[])),(0,i.useEffect)((function(){var t,n=null==(t=I.current)?void 0:t.getContext("2d");if(n){var i,l={width:b,height:e,color:r,thickness:a,scale:(i=o,Math.max(Math.min(i,100),5)),cursorSize:s,paintInterval:u,beatFrequency:v};return x.current=new h(n,new f({width:b,density:c}),new d,l),function(){var t;null==(t=x.current)||t.destroy()}}}),[b,e,r,a,o,s,c,u,v]),{width:b,canvas:I,container:k}}({defaultWidth:void 0===r?500:r,height:o,color:void 0===c?"#22ff22":c,thickness:void 0===u?2:u,scale:void 0===v?35:v,cursorSize:void 0===p?3:p,density:void 0===g?2:g,paintInterval:void 0===s?30:s,beatFrequency:t.beatFrequency,ref:e});return i.createElement("div",{ref:b.container},i.createElement("canvas",{width:b.width,height:o,ref:b.canvas}))}))},36804:(t,e,n)=>{n.d(e,{Z:()=>i});const i=n(85183).Z.Symbol},85275:(t,e,n)=>{n.d(e,{Z:()=>h});var i=n(36804),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i.Z?i.Z.toStringTag:void 0;const c=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(c){}var r=o.call(t);return i&&(e?t[s]=n:delete t[s]),r};var u=Object.prototype.toString;const l=function(t){return u.call(t)};var f=i.Z?i.Z.toStringTag:void 0;const h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):l(t)}},98831:(t,e,n)=>{n.d(e,{Z:()=>i});const i="object"==typeof global&&global&&global.Object===Object&&global},85183:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(98831),r="object"==typeof self&&self&&self.Object===Object&&self;const a=i.Z||r||Function("return this")()},58465:(t,e,n)=>{n.d(e,{Z:()=>i});const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},98809:(t,e,n)=>{n.d(e,{Z:()=>i});const i=function(t){return null!=t&&"object"==typeof t}},72305:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(85275),r=n(98809);const a=function(t){return"symbol"==typeof t||(0,r.Z)(t)&&"[object Symbol]"==(0,i.Z)(t)}},90344:(t,e,n)=>{n.d(e,{Z:()=>d});var i=/\s/;const r=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e};var a=/^\s+/;const o=function(t){return t?t.slice(0,r(t)+1).replace(a,""):t};var s=n(58465),c=n(72305),u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;const d=function(t){if("number"==typeof t)return t;if((0,c.Z)(t))return NaN;if((0,s.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,s.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=l.test(t);return n||f.test(t)?h(t.slice(2),n?2:8):u.test(t)?NaN:+t}}}]);
//# sourceMappingURL=9690.c3c89b97.chunk.js.map